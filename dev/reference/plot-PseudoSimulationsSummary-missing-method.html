<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot summaries of the pseudo simulations — plot,PseudoSimulationsSummary,missing-method • crmPack</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot summaries of the pseudo simulations — plot,PseudoSimulationsSummary,missing-method" />
<meta property="og:description" content="Graphical display of the simulation summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">crmPack</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/guidelines.html">Guidelines for developers and maintainer</a>
    </li>
    <li>
      <a href="../articles/rolling-crm.html">Rolling CRM Example</a>
    </li>
    <li>
      <a href="../articles/simulations.html">Simulation study example</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/roche/crmPack">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot summaries of the pseudo simulations</h1>
    <small class="dont-index">Source: <a href='https://github.com/roche/crmPack/blob/master/R/Simulations-methods.R'><code>R/Simulations-methods.R</code></a></small>
    <div class="hidden name"><code>plot-PseudoSimulationsSummary-missing-method.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Graphical display of the simulation summary</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for PseudoSimulationsSummary,missing</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>y</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"nObs"</span>, <span class='st'>"doseSelected"</span>, <span class='st'>"propDLE"</span>, <span class='st'>"nAboveTargetEndOfTrial"</span>, <span class='st'>"meanFit"</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>the <code><a href='PseudoSimulationsSummary-class.html'>PseudoSimulationsSummary</a></code> object we want
to plot from</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>missing</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>the types of plots you want to obtain.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>not used</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A single <code><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></code> object if a single plot is
asked for, otherwise a <code>gridExtra{gTree}</code> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This plot method can be applied to <code><a href='PseudoSimulationsSummary-class.html'>PseudoSimulationsSummary</a></code>
objects in order to summarize them graphically. This can be used when only DLE responses are involved
in the simulations. This also applied to results with or without samples generated during the simulations</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='co'>##obtain the plot for the simulation results</span></span>
<span class='r-in'><span class='co'>##If only DLE responses are considered in the simulations</span></span>
<span class='r-in'><span class='co'>##Specified your simulations when no DLE samples are used</span></span>
<span class='r-in'><span class='co'>##Define your data set first using an empty data set </span></span>
<span class='r-in'><span class='co'>## with dose levels from 25 to 300 with increments 25</span></span>
<span class='r-in'><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='Data-class.html'>Data</a></span><span class='op'>(</span>doseGrid<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>25</span>,<span class='fl'>300</span>,<span class='fl'>25</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>##Specified the model of 'ModelTox' class eg 'LogisticIndepBeta' class model</span></span>
<span class='r-in'><span class='va'>model</span><span class='op'>&lt;-</span><span class='fu'><a href='LogisticIndepBeta.html'>LogisticIndepBeta</a></span><span class='op'>(</span>binDLE<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.05</span>,<span class='fl'>1.8</span><span class='op'>)</span>,DLEweights<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>3</span><span class='op'>)</span>,DLEdose<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>25</span>,<span class='fl'>300</span><span class='op'>)</span>,data<span class='op'>=</span><span class='va'>data</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##Then the escalation rule</span></span>
<span class='r-in'><span class='va'>tdNextBest</span> <span class='op'>&lt;-</span> <span class='fu'><a href='NextBestTD.html'>NextBestTD</a></span><span class='op'>(</span>targetDuringTrial<span class='op'>=</span><span class='fl'>0.35</span>,</span>
<span class='r-in'>                         targetEndOfTrial<span class='op'>=</span><span class='fl'>0.3</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## The cohort size, size of 3 subjects</span></span>
<span class='r-in'><span class='va'>mySize</span> <span class='op'>&lt;-</span><span class='fu'><a href='CohortSizeConst.html'>CohortSizeConst</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##Deifne the increments for the dose-escalation process</span></span>
<span class='r-in'><span class='co'>##The maximum increase of 200% for doses up to the maximum of the dose specified in the doseGrid</span></span>
<span class='r-in'><span class='co'>##The maximum increase of 200% for dose above the maximum of the dose specified in the doseGrid</span></span>
<span class='r-in'><span class='co'>##This is to specified a maximum of 3-fold restriction in dose-esclation</span></span>
<span class='r-in'><span class='va'>myIncrements</span><span class='op'>&lt;-</span><span class='fu'><a href='IncrementsRelative.html'>IncrementsRelative</a></span><span class='op'>(</span>intervals<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>@</span><span class='va'>doseGrid</span><span class='op'>)</span>,<span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>@</span><span class='va'>doseGrid</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span class='r-in'>                                 increments<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##Specified the stopping rule e.g stop when the maximum sample size of 12 patients has been reached</span></span>
<span class='r-in'><span class='va'>myStopping</span> <span class='op'>&lt;-</span> <span class='fu'><a href='StoppingMinPatients.html'>StoppingMinPatients</a></span><span class='op'>(</span>nPatients<span class='op'>=</span><span class='fl'>12</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##Now specified the design with all the above information and starting with a dose of 25</span></span>
<span class='r-in'><span class='va'>design</span> <span class='op'>&lt;-</span> <span class='fu'><a href='TDDesign.html'>TDDesign</a></span><span class='op'>(</span>model<span class='op'>=</span><span class='va'>model</span>,</span>
<span class='r-in'>                   nextBest<span class='op'>=</span><span class='va'>tdNextBest</span>,</span>
<span class='r-in'>                   stopping<span class='op'>=</span><span class='va'>myStopping</span>,</span>
<span class='r-in'>                   increments<span class='op'>=</span><span class='va'>myIncrements</span>,</span>
<span class='r-in'>                   cohortSize<span class='op'>=</span><span class='va'>mySize</span>,</span>
<span class='r-in'>                  data<span class='op'>=</span><span class='va'>data</span>,startingDose<span class='op'>=</span><span class='fl'>25</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>##Specify the truth of the DLE responses</span></span>
<span class='r-in'><span class='va'>myTruth</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>dose</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>{</span> <span class='va'>model</span><span class='op'>@</span><span class='va'>prob</span><span class='op'>(</span><span class='va'>dose</span>, phi1<span class='op'>=</span><span class='op'>-</span><span class='fl'>53.66584</span>, phi2<span class='op'>=</span><span class='fl'>10.50499</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## Then specified the simulations and generate the trial </span></span>
<span class='r-in'><span class='co'>##For illustration purpose only 1 simulation is produced (nsim=1). </span></span>
<span class='r-in'><span class='co'>##The simulations</span></span>
<span class='r-in'><span class='va'>mySim</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/simulate.html'>simulate</a></span><span class='op'>(</span><span class='va'>design</span>,</span>
<span class='r-in'>                  args<span class='op'>=</span><span class='cn'>NULL</span>,</span>
<span class='r-in'>                  truth<span class='op'>=</span><span class='va'>myTruth</span>,</span>
<span class='r-in'>                  nsim<span class='op'>=</span><span class='fl'>1</span>,</span>
<span class='r-in'>                  seed<span class='op'>=</span><span class='fl'>819</span>,</span>
<span class='r-in'>                  parallel<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>##Then produce a summary of your simulations</span></span>
<span class='r-in'><span class='va'>MYSUM</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>mySim</span>,</span>
<span class='r-in'>                 truth<span class='op'>=</span><span class='va'>myTruth</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##plot the summary of the simulations</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>MYSUM</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-plt img'><img src='plot-PseudoSimulationsSummary-missing-method-1.png' alt='' width='700' height='433' /></span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>##If DLE samples are involved</span></span>
<span class='r-in'><span class='co'>##The escalation rule</span></span>
<span class='r-in'><span class='va'>tdNextBest</span><span class='op'>&lt;-</span><span class='fu'><a href='NextBestTDsamples.html'>NextBestTDsamples</a></span><span class='op'>(</span>targetDuringTrial<span class='op'>=</span><span class='fl'>0.35</span>,</span>
<span class='r-in'>                              targetEndOfTrial<span class='op'>=</span><span class='fl'>0.3</span>,</span>
<span class='r-in'>                              derive<span class='op'>=</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>TDsamples</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>TDsamples</span>,probs<span class='op'>=</span><span class='fl'>0.3</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##specify the design</span></span>
<span class='r-in'><span class='va'>design</span> <span class='op'>&lt;-</span> <span class='fu'><a href='TDsamplesDesign.html'>TDsamplesDesign</a></span><span class='op'>(</span>model<span class='op'>=</span><span class='va'>model</span>,</span>
<span class='r-in'>                          nextBest<span class='op'>=</span><span class='va'>tdNextBest</span>,</span>
<span class='r-in'>                          stopping<span class='op'>=</span><span class='va'>myStopping</span>,</span>
<span class='r-in'>                          increments<span class='op'>=</span><span class='va'>myIncrements</span>,</span>
<span class='r-in'>                          cohortSize<span class='op'>=</span><span class='va'>mySize</span>,</span>
<span class='r-in'>                          data<span class='op'>=</span><span class='va'>data</span>,startingDose<span class='op'>=</span><span class='fl'>25</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##options for MCMC</span></span>
<span class='r-in'><span class='va'>options</span><span class='op'>&lt;-</span><span class='fu'><a href='McmcOptions.html'>McmcOptions</a></span><span class='op'>(</span>burnin<span class='op'>=</span><span class='fl'>100</span>,step<span class='op'>=</span><span class='fl'>2</span>,samples<span class='op'>=</span><span class='fl'>200</span><span class='op'>)</span></span>
<span class='r-in'><span class='co'>##The simulations</span></span>
<span class='r-in'><span class='co'>##For illustration purpose only 1 simulation is produced (nsim=1). </span></span>
<span class='r-in'><span class='co'># mySim &lt;- simulate(design,</span></span>
<span class='r-in'><span class='co'>#                   args=NULL,</span></span>
<span class='r-in'><span class='co'>#                   truth=myTruth,</span></span>
<span class='r-in'><span class='co'>#                   nsim=1,</span></span>
<span class='r-in'><span class='co'>#                   seed=819,</span></span>
<span class='r-in'><span class='co'>#                   mcmcOptions=options,</span></span>
<span class='r-in'><span class='co'>#                   parallel=FALSE)</span></span>
<span class='r-in'><span class='co'># ##Then produce a summary of your simulations</span></span>
<span class='r-in'><span class='co'># MYSUM &lt;- summary(mySim,</span></span>
<span class='r-in'><span class='co'>#                  truth=myTruth)</span></span>
<span class='r-in'><span class='co'># ##plot the summary of the simulations</span></span>
<span class='r-in'><span class='co'># print(plot(MYSUM))</span></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Sabanes Bove, Wai Yin Yeung, Giuseppe Palermo, Thomas Jaki, Jiawen Zhu, Ziwei Liao.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


